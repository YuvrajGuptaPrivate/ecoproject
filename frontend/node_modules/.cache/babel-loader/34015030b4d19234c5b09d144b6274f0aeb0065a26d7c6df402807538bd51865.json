{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LoginLayout(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState(null);const[token,setToken]=useState(null);const[success,setSuccess]=useState(null);const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch('https://ecoproject-backendd.onrender.com/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});const data=await response.json();if(data.success){setToken(data.token);localStorage.setItem('token',data.token);window.location.href='/';}else{setError(data.errors);}}catch(error){setError('An error occurred. Please try again.');setSuccess(null);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-wrap p-4 p-md-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-user-circle\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-center mb-4\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control rounded-left\",placeholder:\"Email\",required:true,value:email,onChange:e=>setEmail(e.target.value)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group d-flex\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control rounded-left\",placeholder:\"Password\",required:true,value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"div\",{className:\"icon d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-eye-slash\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group d-md-flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-50 text-left\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-wrap checkbox-primary mb-0\",children:[\"Remember Me\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:true,onChange:e=>console.log(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary rounded submit p-3 px-5\",children:\"Log In\"})})]}),/*#__PURE__*/_jsxs(Link,{to:\"/Signup\",className:\"text-center\",children:[\"If you don't have an account,\",\" \",\" \",\" \",\"  Sign Up\"]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:error}),success&&/*#__PURE__*/_jsx(\"div\",{style:{color:'green'},children:success}),token&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Logged in successfully! Token: \",token]})]})})})});}export default LoginLayout;","map":{"version":3,"names":["React","Link","useState","jsx","_jsx","jsxs","_jsxs","LoginLayout","email","setEmail","password","setPassword","error","setError","token","setToken","success","setSuccess","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","localStorage","setItem","window","location","href","errors","className","children","onSubmit","type","placeholder","required","value","onChange","target","checked","console","log","to","style","color"],"sources":["C:/Users/yuvraj/ecoproject/frontend/src/Components/LoginLayout.js"],"sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport  { useState } from 'react';\r\n\r\n  \r\n  function LoginLayout() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState(null);\r\n    const [token, setToken] = useState(null);\r\n    const [success, setSuccess] = useState(null);\r\n\r\n  \r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n          const response = await fetch('https://ecoproject-backendd.onrender.com/login', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ email, password })\r\n          });\r\n      \r\n          const data = await response.json();\r\n          if (data.success) {\r\n            setToken(data.token);\r\n            localStorage.setItem('token', data.token);\r\n            window.location.href = '/';\r\n          } else {\r\n            setError(data.errors);\r\n          }\r\n        } catch (error) {\r\n          setError('An error occurred. Please try again.');\r\n               setSuccess(null);\r\n                }\r\n      };\r\n  return (\r\n    <div className=\"container\">\r\n        <div className=\"row justify-content-center\">\r\n            <div className=\"col-md-6 col-lg-5\">\r\n                <div className=\"login-wrap p-4 p-md-5\">\r\n                    <div className=\"icon d-flex align-items-center justify-content-center\">\r\n                        <span className=\"fa fa-user-circle\"></span>\r\n                    </div>\r\n                    <h3 className=\"text-center mb-4\">Login</h3>\r\n                    <form onSubmit={handleSubmit} className=\"login-form\">\r\n                        <div className=\"form-group\">\r\n                        <input type=\"email\" className=\"form-control rounded-left\" placeholder=\"Email\" required value={email} onChange={(e) => setEmail(e.target.value)} />\r\n\r\n                        </div>\r\n                        <div className=\"form-group d-flex\">\r\n                        <input type=\"password\" className=\"form-control rounded-left\" placeholder=\"Password\" required value={password} onChange={(e) => setPassword(e.target.value)} />\r\n                            <div className=\"icon d-flex align-items-center justify-content-center\">\r\n                                <span className=\"fa fa-eye-slash\"></span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group d-md-flex\">\r\n                            <div className=\"w-50 text-left\">\r\n                                \r\n                                <label className=\"checkbox-wrap checkbox-primary mb-0\">Remember Me\r\n                                    <input type=\"checkbox\" checked={true} onChange={(e) => console.log(e.target.checked)}/>\r\n                                    <span className=\"checkmark\"></span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <button type=\"submit\" className=\"btn btn-primary rounded submit p-3 px-5\">Log In</button>\r\n                        </div>\r\n                    </form>\r\n                    <Link to='/Signup' className=\"text-center\" >If you don't have an account,{` `} {` `}  Sign Up</Link>\r\n                    {error && <div style={{ color: 'red' }}>{error}</div>}\r\n                    {success && <div style={{ color: 'green' }}>{success}</div>}\r\n                    {token && <div>Logged in successfully! Token: {token}</div>}\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginLayout\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}